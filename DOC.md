<!-- Code generated by gomarkdoc. DO NOT EDIT -->

# bytespool

```go
import "github.com/fufuok/bytespool"
```

## Index

- [Variables](<#variables>)
- [func Append(buf []byte, elems ...byte) []byte](<#func-append>)
- [func AppendString(buf []byte, elems string) []byte](<#func-appendstring>)
- [func Clone(buf []byte) []byte](<#func-clone>)
- [func Get(size int) []byte](<#func-get>)
- [func InitDefaultPools(minSize, maxSize int)](<#func-initdefaultpools>)
- [func Make(capacity int) []byte](<#func-make>)
- [func Make64(capacity uint64) []byte](<#func-make64>)
- [func MakeMax() []byte](<#func-makemax>)
- [func MakeMin() []byte](<#func-makemin>)
- [func MaxSize() int](<#func-maxsize>)
- [func MinSize() int](<#func-minsize>)
- [func New(size int) []byte](<#func-new>)
- [func New64(size uint64) []byte](<#func-new64>)
- [func NewBytes(bs []byte) []byte](<#func-newbytes>)
- [func NewMax() []byte](<#func-newmax>)
- [func NewMin() []byte](<#func-newmin>)
- [func NewString(s string) []byte](<#func-newstring>)
- [func Put(buf []byte)](<#func-put>)
- [func Release(buf []byte) bool](<#func-release>)
- [func RuntimeStats(ps ...*CapacityPools) map[string]uint64](<#func-runtimestats>)
- [type BufPool](<#type-bufpool>)
  - [func NewBufPool(size int) *BufPool](<#func-newbufpool>)
  - [func (b *BufPool) Get() []byte](<#func-bufpool-get>)
  - [func (b *BufPool) Put(buf []byte)](<#func-bufpool-put>)
- [type CapacityPools](<#type-capacitypools>)
  - [func NewCapacityPools(minSize, maxSize int) *CapacityPools](<#func-newcapacitypools>)
  - [func (p *CapacityPools) Append(buf []byte, elems ...byte) []byte](<#func-capacitypools-append>)
  - [func (p *CapacityPools) AppendString(buf []byte, elems string) []byte](<#func-capacitypools-appendstring>)
  - [func (p *CapacityPools) Clone(buf []byte) []byte](<#func-capacitypools-clone>)
  - [func (p *CapacityPools) Get(size int) []byte](<#func-capacitypools-get>)
  - [func (p *CapacityPools) Make(capacity int) []byte](<#func-capacitypools-make>)
  - [func (p *CapacityPools) Make64(capacity uint64) []byte](<#func-capacitypools-make64>)
  - [func (p *CapacityPools) MakeMax() []byte](<#func-capacitypools-makemax>)
  - [func (p *CapacityPools) MakeMin() []byte](<#func-capacitypools-makemin>)
  - [func (p *CapacityPools) MaxSize() int](<#func-capacitypools-maxsize>)
  - [func (p *CapacityPools) MinSize() int](<#func-capacitypools-minsize>)
  - [func (p *CapacityPools) New(size int) (buf []byte)](<#func-capacitypools-new>)
  - [func (p *CapacityPools) New64(size uint64) []byte](<#func-capacitypools-new64>)
  - [func (p *CapacityPools) NewBytes(bs []byte) []byte](<#func-capacitypools-newbytes>)
  - [func (p *CapacityPools) NewMax() []byte](<#func-capacitypools-newmax>)
  - [func (p *CapacityPools) NewMin() []byte](<#func-capacitypools-newmin>)
  - [func (p *CapacityPools) NewString(s string) []byte](<#func-capacitypools-newstring>)
  - [func (p *CapacityPools) Put(buf []byte)](<#func-capacitypools-put>)
  - [func (p *CapacityPools) Release(buf []byte) bool](<#func-capacitypools-release>)


## Variables

```go
var DefaultCapacityPools = NewCapacityPools(defaultMinSize, defaultMaxSize)
```

## func Append

```go
func Append(buf []byte, elems ...byte) []byte
```

## func AppendString

```go
func AppendString(buf []byte, elems string) []byte
```

## func Clone

```go
func Clone(buf []byte) []byte
```

## func Get

```go
func Get(size int) []byte
```

## func InitDefaultPools

```go
func InitDefaultPools(minSize, maxSize int)
```

InitDefaultPools initialize to the default pool.

## func Make

```go
func Make(capacity int) []byte
```

## func Make64

```go
func Make64(capacity uint64) []byte
```

## func MakeMax

```go
func MakeMax() []byte
```

## func MakeMin

```go
func MakeMin() []byte
```

## func MaxSize

```go
func MaxSize() int
```

## func MinSize

```go
func MinSize() int
```

## func New

```go
func New(size int) []byte
```

<details><summary>Example</summary>
<p>

```go
package main

import (
	"fmt"

	"github.com/fufuok/bytespool"
)

func main() {
	// Get() is the same as New()
	bs := bytespool.Get(1024)
	// len: 1024, cap: 1024
	fmt.Printf("len: %d, cap: %d\n", len(bs), cap(bs))

	// Put() is the same as Release(), Put it back into the pool after use
	bytespool.Put(bs)

	// len: 0, cap: 4 (Specified capacity, automatically adapt to the capacity scale)
	bs3 := bytespool.Make(3)

	bs3 = append(bs3, "123"...)
	fmt.Printf("len: %d, cap: %d, %s\n", len(bs3), cap(bs3), bs3)

	bytespool.Release(bs3)

	// len: 4, cap: 4 (Fixed length)
	bs4 := bytespool.New(4)

	// Reuse of bs3
	fmt.Printf("same array: %v\n", &bs3[0] == &bs4[0])
	// Contain old data
	fmt.Printf("bs3: %s, bs4: %s\n", bs3, bs4[:3])

	copy(bs4, "xy")
	fmt.Printf("len: %d, cap: %d, %s\n", len(bs4), cap(bs4), bs4[:3])

	bytespool.Release(bs4)

}
```

#### Output

```
len: 1024, cap: 1024
len: 3, cap: 4, 123
same array: true
bs3: 123, bs4: 123
len: 4, cap: 4, xy3
```

</p>
</details>

## func New64

```go
func New64(size uint64) []byte
```

## func NewBytes

```go
func NewBytes(bs []byte) []byte
```

## func NewMax

```go
func NewMax() []byte
```

## func NewMin

```go
func NewMin() []byte
```

## func NewString

```go
func NewString(s string) []byte
```

## func Put

```go
func Put(buf []byte)
```

## func Release

```go
func Release(buf []byte) bool
```

## func RuntimeStats

```go
func RuntimeStats(ps ...*CapacityPools) map[string]uint64
```

## type BufPool

BufPool implements the httputil.BufferPool interface.

```go
type BufPool struct {
    // contains filtered or unexported fields
}
```

### func NewBufPool

```go
func NewBufPool(size int) *BufPool
```

### func \(\*BufPool\) Get

```go
func (b *BufPool) Get() []byte
```

### func \(\*BufPool\) Put

```go
func (b *BufPool) Put(buf []byte)
```

## type CapacityPools

```go
type CapacityPools struct {
    // contains filtered or unexported fields
}
```

### func NewCapacityPools

```go
func NewCapacityPools(minSize, maxSize int) *CapacityPools
```

NewCapacityPools divide into multiple pools according to the capacity scale. Maximum range of byte slice pool: \[minCapacity,1\<\<31\]

### func \(\*CapacityPools\) Append

```go
func (p *CapacityPools) Append(buf []byte, elems ...byte) []byte
```

Append similar to the built\-in function to append elements to the end of a slice. If there is insufficient capacity, a new underlying array is allocated and the old array is reclaimed.

### func \(\*CapacityPools\) AppendString

```go
func (p *CapacityPools) AppendString(buf []byte, elems string) []byte
```

### func \(\*CapacityPools\) Clone

```go
func (p *CapacityPools) Clone(buf []byte) []byte
```

Clone return a copy of the byte slice

### func \(\*CapacityPools\) Get

```go
func (p *CapacityPools) Get(size int) []byte
```

### func \(\*CapacityPools\) Make

```go
func (p *CapacityPools) Make(capacity int) []byte
```

Make return a byte slice of length 0.

### func \(\*CapacityPools\) Make64

```go
func (p *CapacityPools) Make64(capacity uint64) []byte
```

### func \(\*CapacityPools\) MakeMax

```go
func (p *CapacityPools) MakeMax() []byte
```

### func \(\*CapacityPools\) MakeMin

```go
func (p *CapacityPools) MakeMin() []byte
```

### func \(\*CapacityPools\) MaxSize

```go
func (p *CapacityPools) MaxSize() int
```

### func \(\*CapacityPools\) MinSize

```go
func (p *CapacityPools) MinSize() int
```

### func \(\*CapacityPools\) New

```go
func (p *CapacityPools) New(size int) (buf []byte)
```

New return byte slice of the specified size. Warning: may contain old data. Warning: returned buf is never equal to nil

### func \(\*CapacityPools\) New64

```go
func (p *CapacityPools) New64(size uint64) []byte
```

### func \(\*CapacityPools\) NewBytes

```go
func (p *CapacityPools) NewBytes(bs []byte) []byte
```

NewBytes returns a byte slice of the specified content.

### func \(\*CapacityPools\) NewMax

```go
func (p *CapacityPools) NewMax() []byte
```

### func \(\*CapacityPools\) NewMin

```go
func (p *CapacityPools) NewMin() []byte
```

### func \(\*CapacityPools\) NewString

```go
func (p *CapacityPools) NewString(s string) []byte
```

NewString returns a byte slice of the specified content.

### func \(\*CapacityPools\) Put

```go
func (p *CapacityPools) Put(buf []byte)
```

### func \(\*CapacityPools\) Release

```go
func (p *CapacityPools) Release(buf []byte) bool
```

Release put it back into the byte pool of the corresponding scale. Buffers smaller than the minimum capacity or larger than the maximum capacity are discarded.



Generated by [gomarkdoc](<https://github.com/princjef/gomarkdoc>)
